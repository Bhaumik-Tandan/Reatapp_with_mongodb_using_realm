# COLLEGE DASHBOARD USING ReactJS

This is the sample project of how can we dirrectly connect
ReactJs with MongoDB database without the use of any kind of 
backend.

The website has been deployed on GitHUB pages on the following link 

https://bhaumik-tandan.github.io/Reatapp_with_mongodb_using_realm/

## Demo

When we open the site we come accross a loading screen like this

![3](https://user-images.githubusercontent.com/62440699/129433207-abc5552c-ae54-49d2-bb94-1b7c1b3e2e42.gif)

After the site has been loaded and data has been fetched by default it render us to the college tab in the page
where we can see the list of all the collges in an interactive table table

![image](https://user-images.githubusercontent.com/62440699/129433226-79d87ead-ae7b-4ce1-8491-0cee1aba3079.png)

We can switch through all the the three tabs by clicking on them.
In the visulisation an animation also has been added in the pie charts

![1](https://user-images.githubusercontent.com/62440699/129433352-e27269a4-75e6-4c87-bd43-892894a27825.gif)


We can drill down to any field by clicking on any segment in the pie chart
and all the rows of that segment will be displayed, as you can see that when we search for
city 9 so the number of pages did not get reduced in the bottom right because all the collges
displayed are from that city only whereas when we seached for btech so the number of pages got reduced.
We can also export the data in form of pdf or csv.

![React App - Google Chrome 2021-08-14 09-32-35](https://user-images.githubusercontent.com/62440699/129433550-d57202e1-c38d-4bfe-9ae4-d6f115d61a11.gif)


## Database feeding

The database has been feeding in MongoDB atlas using the code present in

https://github.com/Bhaumik-Tandan/Reatapp_with_mongodb_using_realm/blob/master/data_generation/college.js

https://github.com/Bhaumik-Tandan/Reatapp_with_mongodb_using_realm/blob/master/data_generation/student.js

You can add your own custom url in the url variable given.

## Database fetching

React cannot directly interact with the MongoDB database
So we need to create a data hook to do so.
We can do so by using Realm tab in MongoDB
![image](https://user-images.githubusercontent.com/62440699/129433838-27da8480-b6c0-4e15-be16-fb8f4b08df44.png)

I have created two webhooks one for fetching the collge data
with following script



```
exports = async function(payload, response) {
   const collection=context.services.get("mongodb-atlas").db("coldb").collection("col");
   let collist = await collection.find().toArray();
    return  collist;
};
```

And another to fetch the student data with the following code
```
  exports = async function(payload, response) {
     const collection=context.services.get("mongodb-atlas").db("coldb").collection("std");
   let collist = await collection.find().toArray();
    return  collist;
};
```
After creating the webhook go to the settings tab
![image](https://user-images.githubusercontent.com/62440699/129433944-fc8b788a-7abe-4de9-b5ec-e92aca07ea93.png)

And there you will find a link for your web hook, if you want you can also add 
authentication. Also make sure to choose edit HTTP method to GET if you want to fetch data
via get request.
![image](https://user-images.githubusercontent.com/62440699/129433963-dd64669b-d39d-4799-be06-f842020414d2.png)

My web urls are

https://ap-south-1.aws.webhooks.mongodb-realm.com/api/client/v2.0/app/student-flnbc/service/college/incoming_webhook/college

https://ap-south-1.aws.webhooks.mongodb-realm.com/api/client/v2.0/app/student-flnbc/service/student/incoming_webhook/webhook0

You can also refer to the video for more information
https://youtu.be/mrHNSanmqQ4?t=7379



## Flow of Application

### APP
All the data fetching and processing has been done
in the app component and the data has been stored in the
state variables of APP.

The loading screen has been displayed through ReactLoading
component in react, you can refer the documentation bellow
for more information.

https://www.npmjs.com/package/react-loading

The tabs above are being displayed by the Tabs component in material-ui.

https://material-ui.com/api/tab/

This coponent has three custom created components
College, Student and Graph.

### College and Student

Both of the above uses MaterialTable in react to display the 
data in the table which has been passed to the them by app.

Here is the documentation for the same

https://www.npmjs.com/package/material-table


### Graph

This component draws the pie chart of the data which
has been passed to the it by app the positioning of the 
graph is being governed by graph.css and colors used
in the app are randomly generated by the code present in the 
app. 

The pie chart is drawn using PieChart coponent in react.

Refer their documentation for more customisation

https://www.npmjs.com/package/react-minimal-pie-chart

It also offers a demo to visualise the figure

https://toomuchdesign.github.io/react-minimal-pie-chart/index.html?path=/story/interaction--click-mouseover-mouseout-callbacks

When the user clicks on any segment of the graph the respective
on click function is called which filters the data and passes it
on to Drill component which further passes it to College or Student
coponent based on the pie chart the has been clicked.


## Installation

To run the website in your sytem, you should have 
node installed with npm configured.

You can download the repository in form of zip
or if you have git installed you can directly write
```bash
  git clone https://github.com/Bhaumik-Tandan/Reatapp_with_mongodb_using_realm
  cd Reatapp_with_mongodb_using_realm
```
And then you have to install the dependencies using npm,
So run the command

```bash
  npm install
```

Now you can write
```bash
  npm start
```

And you will be able to access the website on http://localhost:3000/
    
    
## Deployment

To publish the application on the Github pages
first you need to create a Github repository of 
the project

And then refer to the following link to deploy your application

https://www.freecodecamp.org/news/deploy-a-react-app-to-github-pages/

Make sure to run the following command everytime you make changes to 
the application to get it reflected in your pages site.

```bash
  npm run deploy
```


## ðŸ›  Skills Used
NoSQL, ReactJs, HTML, CSS, JavaScript, Realm...
